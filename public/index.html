<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Beesoft üêù - WhatsApp Automation</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
  <div class="theme-switch-wrapper">
    <label class="theme-switch" for="theme-checkbox">
      <input type="checkbox" id="theme-checkbox" />
      <span class="slider round"></span>
    </label>
  </div>

  <!-- Welcome Page -->
  <section id="welcome-page" class="page-center" style="display:none;">
    <div class="card welcome-card">
      <div id="status-alert"></div>
      <img src="Bee.ico" alt="Beesoft Logo" class="logo" />
      <h1 class="title">Welcome to Beesoft üêù</h1>
      <p class="desc">Smart, simple WhatsApp automation for everyone. Send messages in bulk, attach images, and track results with ease.</p>
      <button id="get-started-btn" class="btn m3-filled">Get Started</button>
      <p class="sub-text">No sign-in required. Your data stays on your device.</p>
    </div>
    <footer>
      &copy; 2024 Beesoft &bull; 
      <a href="mailto:ekthar.xd@gmail.com">Contact Support</a> &bull;
      <button id="clear-data-btn">Clear Local Data</button>
    </footer>
  </section>

  <!-- Main App Page -->
  <div id="main-app">
    <section id="main-app-page" class="page-center" style="display:none;">
      <div class="main-app-wide">
        <div class="main-app-topbar">
          <img src="Bee.ico" alt="Beesoft Logo" class="logo" />
          <span class="main-app-title">Beesoft üêù</span>
          <span class="main-app-network">Network: <span id="main-network-info">Loading...</span></span>
          <a href="mailto:ekthar.xd@gmail.com" class="main-app-support">Contact Support</a>
        </div>
        <div class="main-app-content">
          <div class="main-app-left">
            <div class="input-group">
              <label for="excelFile">Select Excel File</label>
              <label for="excelFile" class="upload-label btn m3-tonal">Upload Excel</label>
              <input type="file" id="excelFile" accept=".xlsx,.xls" />
              <span id="file-name-display" class="file-name"></span>
            </div>
            <div class="input-group">
              <label for="message">Message Template</label>
              <textarea id="message" rows="5" placeholder="Type your message here..."></textarea>
            </div>
            <div class="input-group">
              <label>Attach Image (Optional)</label>
              <button id="attachImageBtn" class="btn m3-outlined">Choose Image</button>
              <span id="imageFileName" class="file-name">No image selected</span>
            </div>
            <div id="qr-container" style="display:none;"></div>
          </div>
          <div class="main-app-right">
            <div class="stats-section">
              <h3 class="section-title">Session Stats</h3>
              <div class="stats">
                <div>SUCCESS<span id="success-count">0</span></div>
                <div>FAILED<span id="failed-count">0</span></div>
                <div>TOTAL<span id="total-count">0</span></div>
              </div>
            </div>
            <div class="log-section">
              <h3 class="section-title">Live Activity</h3>
              <ul id="live-log-list" class="log-list"></ul>
            </div>
            <div class="main-actions">
              <button id="connect-btn" class="btn m3-tonal">Connect</button>
              <button id="sendButton" class="btn m3-filled">Send</button>
              <button id="pauseButton" class="btn m3-outlined" title="Pause"><span class="material-symbols-outlined">pause</span></button>
              <button id="continueButton" class="btn m3-outlined" title="Continue"><span class="material-symbols-outlined">play_arrow</span></button>
              <button id="stopButton" class="btn m3-danger" title="Stop"><span class="material-symbols-outlined">stop</span></button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Modal for all popups -->
  <div id="modal" style="display:none;">
    <div id="modal-content">
      <h3 id="modal-title"></h3>
      <div id="modal-body"></div>
      <div class="modal-actions">
        <button id="modal-cancel" class="btn m3-tonal">Cancel</button>
        <button id="modal-ok" class="btn m3-filled">OK</button>
      </div>
      <div id="modal-error"></div>
    </div>
  </div>

  <!-- Trial Lock Page -->
  <div id="trial-lock-page" class="page-center" style="display:none;">
    <div class="card trial-lock-card">
      <button id="admin-login-btn">Admin Login</button>
      <h2 class="title">Trial Has Expired</h2>
      <p class="desc">This software is currently locked. Please contact your administrator to activate or extend your trial period.</p>
      <div id="trial-info" class="sub-text"></div>
      <div id="admin-login-form" style="display:none;">
        <div class="input-group">
          <input id="admin-username" type="text" placeholder="Admin Username" />
        </div>
        <div class="input-group">
          <input id="admin-password" type="password" placeholder="Admin Password" />
        </div>
        <button id="admin-auth-btn" class="btn m3-filled">Login as Admin</button>
        <div id="admin-login-error" class="sub-text" style="color: var(--danger-color);"></div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
